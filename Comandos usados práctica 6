Pr치ctica 1 - Cifrado con GPG2

1. Actualizar sistema e instalar gpg2:
sudo dnf update -y
sudo dnf install gnupg2 -y

2. Verificar instalaci칩n:
gpg2 --version

3. Crear directorio y archivo:
mkdir ~/cifrado_prueba
cd ~/cifrado_prueba
echo "Esto es confidencial." > documento.txt
cat documento.txt

4. Generar claves GPG (interactivo):
gpg2 --full-generate-key (Secreto en nombre)

5. Listar claves:
gpg2 --list-keys
gpg2 --list-secret-keys

6. Cifrar el archivo:
gpg2 --encrypt --armor --recipient secreto documento.txt

7. Intentar leer archivo cifrado:
cat documento.txt.asc

8. Descifrar archivo:
gpg2 --decrypt --output documento_descifrado.txt documento.txt.asc

9. Verificar contenido descifrado:
cat documento_descifrado.txt
diff documento.txt documento_descifrado.txt

***

Pr치ctica 2 - IPTABLES y FIREWALL-CMD

Habilitar Servicios HTTP, FTP y SSH

1. Instalar servicios:
sudo dnf install httpd vsftpd openssh-server -y

2. Iniciar y habilitar servicios:
sudo systemctl start httpd vsftpd sshd
sudo systemctl enable httpd vsftpd sshd

3. Verificar servicios:
sudo systemctl status httpd vsftpd sshd

4. Ver puertos en escucha:
sudo netstat -tuln | grep -E "80|21|22"

Bloquear y desbloquear puertos con IPTABLES
1. Listar reglas actuales:
sudo iptables -L INPUT -v -n

2. Bloquear puertos 80, 21 y 22:
sudo iptables -A INPUT -p tcp --dport 80 -j DROP
sudo iptables -A INPUT -p tcp --dport 21 -j DROP
sudo iptables -A INPUT -p tcp --dport 22 -j DROP

3. Verificar reglas:
sudo iptables -L INPUT -v -n | grep -E "80|21|22"

4. Desbloquear puertos:
sudo iptables -D INPUT -p tcp --dport 80 -j DROP
sudo iptables -D INPUT -p tcp --dport 21 -j DROP
sudo iptables -D INPUT -p tcp --dport 22 -j DROP

Bloquear y desbloquear puertos con FIREWALL-CMD

1. Detener iptables y habilitar firewalld:

sudo systemctl stop iptables
sudo dnf install firewalld -y
sudo systemctl start firewalld
sudo systemctl enable firewalld

2. Ver configuraci칩n actual:
sudo firewall-cmd --get-default-zone
sudo firewall-cmd --list-services
sudo firewall-cmd --list-ports


3. Bloquear puertos 80, 21 y 22:
sudo firewall-cmd --permanent --remove-port=80/tcp
sudo firewall-cmd --permanent --remove-port=21/tcp
sudo firewall-cmd --permanent --remove-port=22/tcp
sudo firewall-cmd --reload

4. Verificar puertos bloqueados:
sudo firewall-cmd --list-ports


5. Desbloquear puertos 80, 21 y 22:
sudo firewall-cmd --permanent --add-port=80/tcp
sudo firewall-cmd --permanent --add-port=21/tcp
sudo firewall-cmd --permanent --add-port=22/tcp
sudo firewall-cmd --reload

6. Verificar puertos desbloqueados:
sudo firewall-cmd --list-ports
